# Maintainer: paperbenni <paperbenni@gmail.com>
_pkgname=paperbash
pkgname=$_pkgname
pkgver=202512171939
pkgrel=1
pkgdesc="it's like pip but bash and a little shitty"
url="https://github.com/paperbenni/bash"
arch=('any')
license=('GPL2')
depends=('sh' 'bash')
makedepends=('git' 'curl')
provides=(paperbash)
conflicts=(paperbash)
source=("$_pkgname::git+https://github.com/paperbenni/bash.git")

sha256sums=('SKIP')

pkgver() {
    cd $_pkgname
    date '+%Y%m%d%H%M'
}

package() {
    cd $_pkgname

    # Install license
    install -m644 -D LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"

    # Install all paperbash files
    mkdir -p "${pkgdir}"/usr/share/paperbash
    cp -r * "${pkgdir}"/usr/share/paperbash/

    # Make shell scripts executable
    find "${pkgdir}"/usr/share/paperbash -name "*.sh" -exec chmod +x {} \;

    # Remove the LICENSE file from share directory since it's already in licenses
    rm -f "${pkgdir}"/usr/share/paperbash/LICENSE
}
